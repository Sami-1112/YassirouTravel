<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YassirouTravel - طلب تأشيرة</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body class="bg-gray-100 text-gray-800">

   <header class="bg-white shadow-md py-4">
    <div class="container mx-auto flex justify-start items-center px-4"> <a href="../index.html" class="text-lg font-semibold text-emerald-600 hover:text-emerald-700 transition duration-300">
            <i class="fas fa-home ml-2"></i>العودة للصفحة الرئيسية
        </a>
    </div>
</header>

    <div id="mobile-menu" class="hidden fixed inset-0 bg-white z-50 flex flex-col items-center justify-center space-y-6 md:hidden">
        <button id="close-menu" class="absolute top-4 left-4 text-gray-700 text-3xl focus:outline-none">
            <i class="fas fa-times"></i>
        </button>
        <a href="../index.html" class="text-gray-700 hover:text-emerald-600 text-2xl font-semibold transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">الرئيسية</a>
        <a href="../index.html#services" class="text-gray-700 hover:text-emerald-600 text-2xl font-semibold transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">خدماتنا</a>
        <a href="hajj-umrah.html" class="text-gray-700 hover:text-emerald-600 text-2xl font-semibold transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">برامج الحج والعمرة</a>
        <a href="tours.html" class="text-gray-700 hover:text-emerald-600 text-2xl font-semibold transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">الرحلات السياحية</a>
        <a href="flight.html" class="text-gray-700 hover:text-emerald-600 text-2xl font-semibold transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">حجز الطيران</a>
        <a href="../index.html#contact" class="text-gray-700 hover:text-emerald-600 text-2xl font-semibold transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">اتصل بنا</a>
    </div>

    <section id="visa-request" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900">طلب تأشيرة</h1>
            <p class="text-lg md:text-xl mb-10 text-gray-700">قدم طلبك للحصول على التأشيرة بسهولة وسرعة، ودعنا نتولى الباقي.</p>

            <div class="max-w-xl mx-auto bg-white p-8 rounded-lg shadow-xl text-right">
                <form id="visa-request-form" class="space-y-6">
                    <div>
                        <label for="visa-full-name" class="block text-gray-700 text-sm font-bold mb-2">الاسم بالكامل:</label>
                        <input type="text" id="visa-full-name" name="full-name" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
                    </div>

                    <div>
                        <label for="visa-phone-number" class="block text-gray-700 text-sm font-bold mb-2">رقم الجوال (مع مفتاح الدولة):</label>
                        <input type="tel" id="visa-phone-number" name="phone-number" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="+9665xxxxxxxx" required>
                    </div>

                    <div>
                        <label for="visa-country" class="block text-gray-700 text-sm font-bold mb-2">الدولة التي ترغب في زيارتها:</label>
                        <input type="text" id="visa-country" name="country" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
                    </div>

                    <div>
                        <label for="visa-type" class="block text-gray-700 text-sm font-bold mb-2">نوع التأشيرة المطلوبة:</label>
                        <select id="visa-type" name="visa-type" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
                            <option value="">اختر نوع التأشيرة</option>
                            <option value="سياحة">سياحة</option>
                            <option value="عمل">عمل</option>
                            <option value="دراسة">دراسة</option>
                            <option value="علاج">علاج</option>
                            <option value="زيارة عائلية">زيارة عائلية</option>
                            <option value="أخرى">أخرى (يرجى التوضيح في الملاحظات)</option>
                        </select>
                    </div>

                    <div>
                        <label for="visa-notes" class="block text-gray-700 text-sm font-bold mb-2">ملاحظات إضافية (اختياري):</label>
                        <textarea id="visa-notes" name="notes" rows="4" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="أية معلومات إضافية أو تفاصيل حول طلبك..."></textarea>
                    </div>

                    <button type="submit" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-full transition duration-300 w-full whatsapp-btn">
                        أرسل طلب التأشيرة عبر الواتساب <i class="fab fa-whatsapp mr-2"></i>
                    </button>
                </form>
            </div>
        </div>
    </section>

    <footer class="bg-gray-900 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <div class="mb-4">
                <a href="#" class="text-gray-400 hover:text-white mx-3"><i class="fab fa-facebook-f text-xl"></i></a>
                <a href="#" class="text-gray-400 hover:text-white mx-3"><i class="fab fa-twitter text-xl"></i></a>
                <a href="#" class="text-gray-400 hover:text-white mx-3"><i class="fab fa-instagram text-xl"></i></a>
                <a href="#" class="text-gray-400 hover:text-white mx-3"><i class="fab fa-linkedin-in text-xl"></i></a>
            </div>
            <p>&copy; 2025 YassirouTravel. جميع الحقوق محفوظة.</p>
        </div>
    </footer>

    <button id="open-chat" class="fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none transition duration-300 z-40">
        <i class="fas fa-robot text-2xl"></i>
    </button>

    <div id="ai-chat-interface" class="hidden fixed bottom-20 right-6 bg-white w-80 h-96 rounded-lg shadow-xl flex flex-col z-50">
        <div class="bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center">
            <h3 class="text-lg font-semibold">مساعد Yassirou الذكي</h3>
            <button id="close-chat" class="text-white hover:text-gray-200 focus:outline-none">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="chat-messages" class="flex-grow p-4 overflow-y-auto border-b border-gray-200 text-right">
            <div class="mb-2 text-gray-700">مرحباً! كيف يمكنني مساعدتك في رحلتك اليوم؟</div>
        </div>
        <div class="p-4 flex">
            <input type="text" id="chat-input" class="flex-grow p-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="اكتب سؤالك هنا...">
            <button id="send-chat" class="bg-blue-600 text-white p-2 rounded-r-lg hover:bg-blue-700 focus:outline-none">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const whatsappNumber = '966551234567'; // رقم الواتساب الموحد - يرجى تغييره إلى رقمك الفعلي

            // ------------------------------------
            // Mobile Menu Functionality
            // ------------------------------------
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const closeMenuButton = document.getElementById('close-menu');
            const mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            if (closeMenuButton) {
                closeMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            }

            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });

            // ------------------------------------
            // Visa Request Form Submission
            // ------------------------------------
            const visaRequestForm = document.getElementById('visa-request-form');
            if (visaRequestForm) {
                visaRequestForm.addEventListener('submit', function(event) {
                    event.preventDefault(); // Prevent default form submission

                    const fullName = document.getElementById('visa-full-name').value;
                    const phoneNumber = document.getElementById('visa-phone-number').value;
                    const country = document.getElementById('visa-country').value;
                    const visaType = document.getElementById('visa-type').value;
                    const notes = document.getElementById('visa-notes').value;

                    let message = `طلب تأشيرة:\n`;
                    message += `الاسم: ${fullName}\n`;
                    message += `الجوال: ${phoneNumber}\n`;
                    message += `الدولة المطلوبة: ${country}\n`;
                    message += `نوع التأشيرة: ${visaType}\n`;
                    if (notes) {
                        message += `ملاحظات إضافية: ${notes}\n`;
                    }

                    const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
                    window.open(whatsappUrl, '_blank');
                });
            }

            // ------------------------------------
            // AI Travel Assistant (Client-Side only - Backend integration needed for real AI)
            // ------------------------------------
            const openChatButton = document.getElementById('open-chat');
            const closeChatButton = document.getElementById('close-chat');
            const aiChatInterface = document.getElementById('ai-chat-interface');
            const chatInput = document.getElementById('chat-input');
            const sendChatButton = document.getElementById('send-chat');
            const chatMessagesContainer = document.getElementById('chat-messages');

            if (openChatButton) {
                openChatButton.addEventListener('click', () => {
                    aiChatInterface.classList.remove('hidden');
                });
            }
            if (closeChatButton) {
                closeChatButton.addEventListener('click', () => {
                    aiChatInterface.classList.add('hidden');
                });
            }

            if (sendChatButton && chatInput && chatMessagesContainer) {
                sendChatButton.addEventListener('click', sendMessage);
                chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });

                function sendMessage() {
                    const userMessage = chatInput.value.trim();
                    if (userMessage === '') return;

                    const userMessageDiv = document.createElement('div');
                    userMessageDiv.classList.add('mb-2', 'text-left', 'text-blue-800', 'p-2', 'bg-blue-100', 'rounded-lg', 'inline-block', 'max-w-[80%]');
                    userMessageDiv.textContent = userMessage;
                    chatMessagesContainer.appendChild(userMessageDiv);
                    chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;

                    chatInput.value = '';

                    setTimeout(() => {
                        const aiResponseDiv = document.createElement('div');
                        aiResponseDiv.classList.add('mb-2', 'text-right', 'text-gray-700', 'p-2', 'bg-gray-200', 'rounded-lg', 'inline-block', 'max-w-[80%]');
                        
                        let aiResponseText = '';
                        if (userMessage.includes('أسعار العمرة') || userMessage.includes('عمرة')) {
                            aiResponseText = 'لمعرفة تفاصيل برامج العمرة، يرجى زيارة صفحة برامج الحج والعمرة من خلال "خدماتنا" أو القائمة العلوية.';
                        } else if (userMessage.includes('حج')) {
                            aiResponseText = 'لمعلومات عن برامج الحج، يرجى زيارة صفحة برامج الحج والعمرة من خلال "خدماتنا" أو التواصل معنا مباشرة للحصول على أحدث التفاصيل.';
                        } else if (userMessage.includes('حجز طيران') || userMessage.includes('طيران')) {
                            aiResponseText = 'لحجز الطيران، يرجى ملء النموذج في هذه الصفحة وإرسال استفساركم.';
                        } else if (userMessage.includes('حجز فندق') || userMessage.includes('فندق')) {
                            aiResponseText = 'لحجز الفنادق، يرجى زيارة صفحة حجز الفنادق الخاصة بنا من خلال "خدماتنا" لملء النموذج وإرسال استفساركم.';
                        } else if (userMessage.includes('تأشيرة') || userMessage.includes('فيزا')) {
                            aiResponseText = 'لخدمات التأشيرات، يرجى زيارة صفحة خدمات التأشيرات الخاصة بنا من خلال "خدماتنا" لملء النموذج وإرسال استفساركم.';
                        } else if (userMessage.includes('شكرا') || userMessage.includes('شكراً')) {
                            aiResponseText = 'العفو! يسعدنا خدمتك دائماً في YassirouTravel. هل يمكنني المساعدة في أي شيء آخر؟';
                        } else {
                            aiResponseText = 'مرحباً بك! أنا مساعدك الذكي في YassirouTravel. كيف يمكنني مساعدتك اليوم؟ يمكنك أن تسأل عن برامج العمرة، الحج، الرحلات السياحية، حجز الطيران، الفنادق، أو التأشيرات. (هذه إجابة تجريبية، لخدمة AI كاملة تحتاج لربط خادم).';
                        }
                        aiResponseDiv.textContent = aiResponseText;
                        chatMessagesContainer.appendChild(aiResponseDiv);
                        chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
                    }, 1000);
                }
            }
        });
    </script>
</body>
</html>